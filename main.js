(()=>{const t=document.getElementById("form"),e=document.getElementById("location"),n=document.getElementById("switch"),o=document.querySelector(".city"),c=document.querySelector(".country"),r=document.querySelector(".time"),i=document.querySelector(".temperature .temp-data"),u=document.querySelector(".state"),a=document.querySelector(".weather-descr .temp-data"),d=document.querySelectorAll(".temp-unit"),m=document.querySelector(".weather-icon"),l=document.querySelector(".wind"),y=document.querySelector(".humidity"),s=document.querySelector(".uv-index");let C="°F";async function p(t,e){try{const n=await fetch(`https://api.weatherapi.com/v1/current.json?key=e3a2a8b3e8d34b518f0225440240901&q=${t}`,{mode:"cors"}),C=function(t){const e=t.location.localtime;return{city:t.location.name,country:t.location.country,time:e,weatherCondition:t.current.condition.text,icon:t.current.condition.icon,tempF:t.current.temp_f,tempC:t.current.temp_c,feelsLikeF:t.current.feelslike_f,feelsLikeC:t.current.feelslike_c,wind:t.current.wind_mph,humidity:t.current.humidity,uv:t.current.uv}}(await n.json());!function(t,e){"°F"===e?(i.textContent=t.tempF,a.textContent=t.feelsLikeF,d[0].textContent=e,d[1].textContent=e):(i.textContent=t.tempC,a.textContent=t.feelsLikeC,d[0].textContent=e,d[1].textContent=e),o.textContent=t.city,c.textContent=t.country,r.textContent=t.time,u.textContent=t.weatherCondition,l.textContent=t.wind,y.textContent=t.humidity,s.textContent=t.uv,m.src=t.icon}(C,e)}catch(t){alert("Location Not Found.\nPlease make sure search is a valid Zipcode, City, State or Country"),console.log(t)}}p("Tokyo",C),t.addEventListener("submit",(n=>{n.preventDefault(),p(e.value,C),t.reset()})),n.addEventListener("click",(t=>{C="°F"===C?"°C":"°F",p(o.textContent,C),t.stopPropagation(),t.preventDefault()}))})();